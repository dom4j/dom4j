<document>

  <properties>
    <title>dom4j changes</title>
    <author email="maartenc@users.sourceforge.net">Maarten Coene</author>
  </properties>

  <body>

    <release version="1.5-dev" date="in CVS">
      <action dev="maartenc" type="update">
        Upgraded the internal Aelfred2 parser to the latest version.
      </action>
      <action dev="maartenc" type="add" due-to="Wonne Keysers">
        Added initial JAXB support.
      </action>
      <action dev="maartenc" type="update" due-to="Christian Niles">
        Updated the STAX classes to provide document encoding.
      </action>
      <action dev="maartenc" type="add">
        Added <code>getXMLEncoding()</code> method to <code>org.dom4j.Document</code>
        which returns the encoding of the document.
      </action>
    </release>

    <release version="1.5-rc1" date="2004-07-04">
      <action dev="maartenc" type="remove">
        Removed the <code>DocumentHelper.parseText(String xml, String encoding)</code>
        method that was introduced in dom4j-1.5-beta2.
      </action>
      <action dev="maartenc" type="update">
        Added the GNU JAXP DOM implementation to the default list of implementations in 
        <code>DOMWriter</code>.
      </action>
      <action dev="maartenc" type="update" due-to="Wonne Keysers">
        Added method to <code>ElementStack</code> and <code>DispatchHandler</code> to check
        if a handler is registered for a given path.
      </action>
      <action dev="maartenc" type="update" due-to="Wonne Keysers">
        <code>ElementStack</code> is now a public class.
      </action>
      <action dev="maartenc" type="update" due-to="Wonne Keysers">
        <code>SAXContentHandler.endElement(...)</code> can now throw <code>SAXException</code>.
      </action>
      <action dev="maartenc" type="fix" due-to="Aaron Bell">
        Added the namespace-prefix of attributes to the paths returned by
        <code>Attribute.getPath(Element context)</code> and 
        <code>Attribute.getUniquePath(Element context)</code>.
      </action>
      <action dev="maartenc" type="fix" due-to="Marc Pellmann">
        <code>Element.declaredNamespaces()</code> now only returns the namespaces that are
        declared on that element. <code>Element.additionalNamespaces()</code>
        now only returns namespaces that are declared on that element and is not the same as the
        namespace of that element.
      </action>
      <action dev="maartenc" type="fix" due-to="Marc Pellmann">
        Escape the values of internal DTD entity declarations when serializing to XML.
      </action>
      <action dev="maartenc" type="fix" due-to="Rob Grzywinski">
        Fixed bug in <code>AbstractElement</code> causing <code>Node.getPath(Element context)</code> to
        return an absolute path, even if a the current element was the same as the context element. The
        relative path "." is now returned.
      </action>
      <action dev="maartenc" type="add" due-to="Thomas Diesler">
        Added method to <code>Element</code> to retrieve all <code>Namespaces</code> for a given URI.
      </action>
      <action dev="maartenc" type="fix" due-to="Thomas Diesler">
        Fixed bug in <code>DOMReader</code> causing namespace declarations to get lost in some situations.
      </action>
      <action dev="maartenc" type="add" due-to="Ben Scarlet">
        Added a <code>booleanValueOf(Object node)</code> method to <code>XPath</code>.
      </action>
      <action dev="maartenc" type="fix" due-to="Wonne Keysers">
        Fixed bug in <code>BeanElement</code> which prevented proper execution of the bean samples.
      </action>
      <action dev="maartenc" type="update" due-to="Christian Niles">
        <code>STAXEventWriter</code> now uses <code>XMLEventConsumer</code> instead of <code>XMLEventWriter</code>.
      </action>
      <action dev="maartenc" type="fix" due-to="Paul Libbrecht">
        Fixed bug in <code>SAXReader</code> that caused problems parsing files in OSX.
      </action>
      <action dev="maartenc" type="fix" due-to="Paul Libbrecht">
        Fixed bug in <code>XMLWriter</code> that caused whitespace to be added between successive 
        calls of the <code>characters(...)</code> method. This is used particularly frequent in Apache Jelly.
      </action>
      <action dev="maartenc" type="update" due-to="Brett Finnell">
        Improved performance of <code>NamespaceCache</code> in multithreaded environments.
      </action>
    </release>

    <release version="1.5-beta-2" date="2004-05-12">
      <action dev="wolfftw" type="add">
        Added flag to <code>OutputFormat</code> that supresses newline after XML declaration.
      </action>
      <action dev="maartenc" type="update">
        Upgraded dependencies to their latest version on ibiblio.
      </action>
      <action dev="maartenc" type="add" due-to="Todd Wolff">
        Added method to <code>DocumentHelper</code> that allows user to specify encoding when parsing an xml <code>String</code>.
      </action>
      <action dev="maartenc" type="fix">
        Fixed a ClassCastException bug in <code>BeanElement</code>.
      </action>
      <action dev="maartenc" type="fix">
        Fixed a bug in <code>SAXContentHandler</code> which caused a <code>NullPointerException</code> in some situations.
      </action>
      <action dev="maartenc" type="fix" due-to="Todd Wolff">
        Fixed bug which prevented an element's namespace prefix from being registered for use in xpath expressions.
      </action>
      <action dev="maartenc" type="fix" due-to="Todd Wolff">
        Fixed bug in <code>XMLWriter</code> that caused duplication of the default namespace declaration.
      </action>
      <action dev="maartenc" type="fix" due-to="Curt Arnold">
        Added a bunch of patches to make the dom4j DOM classes more DOM compliant.
      </action>
      <action dev="maartenc" type="update" due-to="Ricardo Leon">
        Fixed bug in <code>DispatchHandler</code> which made the handler not reusable.
      </action>
      <action dev="maartenc" type="fix" due-to="Todd Wolff">
        Fixed bug in <code>SAXContentHandler</code> that caused incorrect CDATA section parsing.
      </action>
      <action dev="maartenc" type="fix">
        Fixed bug in <code>SAXContentHandler</code> that caused incorrect entity handling.
      </action>
      <action dev="maartenc" type="fix" due-to="Bo Gundersen">
        Fixed bug in <code>XMLWriter</code> causing padding to be disabled, even if enabled in the specified outputformat.
      </action>
      <action dev="maartenc" type="add" due-to="Christian Niles">
        Added initial support for STaX streams.
      </action>
    </release>

    <release version="1.5-beta-1" date="2004-03-25">
      <action dev="maartenc" type="fix">
        Fixed encoding bug in <code>Document.asXML()</code> and <code>DocumentHelper.parseText()</code>.
      </action>
      <action dev="maartenc" type="fix" due-to="Kohsuke Kawaguchi">
        Fixed bug in <code>SAXReader</code> that caused problems resolving relative URIs when parsing <code>java.io.File</code> Objects.
      </action>
      <action dev="maartenc" type="update">
        The iterators returned by the <code>Element.elementIterator(...)</code> methods now support <code>remove()</code>.
      </action>
      <action dev="maartenc" type="update" due-to="Geert Dendoncker and Joury Gokel">
        <code>DOMWriter</code> writes now DOM Level 2 attributes and elements.
      </action>
      <action dev="maartenc" type="update">
        Use latest implementation of the Aelfred parser.
      </action>
      <action dev="maartenc" type="fix" due-to="Bryan Thompson">
        Fixed some problems with internal/external DTD declarations.
      </action>
      <action dev="maartenc" type="update">
        Upgraded to Jaxen 1.1 beta 2.
      </action>
      <action dev="maartenc" type="update">
        Ignore attribute order when comparing elements in <code>NodeComparator</code>.
      </action>
      <action dev="maartenc" type="update">
        Fixed bug in <code>XMLWriter</code> where namespace declarations were duplicated.
      </action>
      <action dev="maartenc" type="fix" due-to="Vladimir Kralik">
        Fixed bug in parsing a <code>ProcessingInstruction</code>.
      </action>
      <action dev="maartenc" type="fix" due-to="Mark Diggory">
        Added support for <code>Stylesheet</code> modes.
      </action>
      <action dev="maartenc" type="update" due-to="Christian Niles">
        Don't escape &quot; and &apos; characters in attribute values if it's not necessary.
      </action>
      <action dev="maartenc" type="fix" due-to="Henner Kollmann">
        Fixed some <code>DOMNodeHelper</code> issues.
      </action>
      <action dev="maartenc" type="fix" due-to="Thomas Draier">
        Fixed some datatype issues.
      </action>
      <action dev="maartenc" type="fix">
        Fixed an bug where the EntityResolver was not set on the XMLReader.
      </action>
      <action dev="slehmann" type="fix">
        Fixed multithreaded access on <code>DefaultElement</code>.
      </action>
      <action dev="maartenc" type="fix" due-to="Geoffrey Vlassaks">
        Fixed problem parsing XML Files.
      </action>
      <action dev="ddlucas" type="update">
        Added xml:space attribute support based on XML Specification 1.0.
      </action>
      <action dev="maartenc" type="update">
        Maven build of dom4j is now nearly complete. Maven is now used for the website generation.
      </action>
      <action dev="maartenc" type="fix" due-to="Alessandro Vernet">
        Fixed some bugs in BackedList.
      </action>
    </release>

  </body>
</document>