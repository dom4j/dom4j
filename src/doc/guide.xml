<?xml version="1.0" encoding="ISO-8859-1"?>
<document url="http://www.dom4j.org/guide.xml">
  <body>
    <title>User Guide</title>
    
    <section title="Parsing XML">
      <p>It is likely that you need to parse an XML document of some kind.
        The following code demonstrates how to achieve this in DOM4J
      </p>
<pre>
import java.net.URL;

import org.dom4j.Document;
import org.dom4j.TreeException;
import org.dom4j.io.SAXReader;

public class Foo {

    public Document parse(URL url) throws TreeException {
        SAXReader reader = new SAXReader();
        Document document = reader.read(url);
        return document;
    }
}
</pre>
    </section>

    <section title="Using Navigation">
      <p>A document can be navigated using the getElements() and getElement() 
        methods. For example
      </p>
<pre>
    public void bar(Document document) throws TreeException {

        Element root = document.getRootElement();

        List servlets = root.getElements("servlet");
        for ( Iterator i = servlets.iterator(); i.hasNext(); ) {
            Element servlet = (Element) i.next();
            // do something
        }
     }
</pre>
    </section>

    <section title="Using XPath Navigation">
      <p>In <b>DOM4J</b> XPath expressions can be evaluated
        on the Document or any Node in the tree. For example.
      </p>
<pre>
    public void bar(Document document) throws TreeException {
        List list = document.selectNodes( "foo/bar" );

        System.out.println( "Found:        " + list.size() + " nodes(s)" );
        System.out.println( "Nodes(s) are: " + list  );

        Node node = document.selectSingleNode( "foo/bar/author" );

        System.out.println( "Found single node: " + node );
    }
</pre>
    </section>


    <section title="Creating a new XML document">
      <p>Often in <b>DOM4J</b> you will need to create a new document
        from scratch. Here's an example of doing that.
      </p>
<pre>
import org.dom4j.Document;
import org.dom4j.DocumentFactory;
import org.dom4j.Element;

public class Foo {

    public Document createDocument() {
        Document document = DocumentFactory.create();
        Element root = document.addElement( "root" );

        Element author1 = root.addElement( "author" );
        author1.setAttributeValue( "name", "James" );
        author1.setAttributeValue( "location", "UK" );
        
        Element author2 = root.addElement( "author" );
        author2.setAttributeValue( "name", "Bob" );
        author2.setAttributeValue( "location", "Canada" );

        return document;
    }
}
</pre>
    </section>

  </body>
</document>









